componentDidMount() is used for getting external data like from dbs

added the main css back in

issue- style is not loading - issue wasn't resolved, have to use import "<path to css file>" 
Not necessarily a bad thing

working on image upload for article creation, React first, then backend
will give good idea of how backend works

Lots of different backend to use... Will be using node.js/express decision made, get on with it

Left article creation for now to have a go at login, will be easier to learn backend this way

With fetch(), post requests take in two paramaters, a url and an object that you're posting

Almost there

22/12/18 fucken smashed the whole POSTing palava, didn't use express body-parser for PARSING the res' BODY

NOW definitely worked out how to get stuff from DB

23/12/18 - Gonna work out how to SECURELY login using sanitisation and validation

Notes from OWASP on avoiding SQL injection:
1. Use paramaterized queries => "SELECT ? FROM ? WHERE ?" [a,b,c]
2. Stored Procedures - storing queries in the DB or summat
3. Validating input, converting input to more secure forms like booleans
4. LAST RESORT - Escaping all user input

HOW IT SHOULD work

1. Client sends over username and password
2. Validate/secure username, then query to find if there are matches
    a. if match is invalid - RETURN 'No username found'
    b. match valid - continue
3. Encrypt entered password using bcrypt and compare to hash password in the db
    a. if password doesn't match - return, try new password
    b. else - Allow in

need to write express middleware

USER SESSION

once a user logs in successfully, a user session needs to be created

Gonna go STATELESS - Server gives client a signed token that contains session info JWT

JWT - JSON Web Token -
  a token passed from server to client 
  in the form header.payload.signature

  header is info saying that it is a JWT and the type of encryption
  payload is the info that you want to give 
  signature is te

  Handled redirect to home after login, now need to change what is show in app
  depending on whether the user has authenticated

  Gonna now try and create JWT on signin with users info which can be stored as a cookie

  JWT is stored in cookie, now to create a sign up page

  Splitting up signup page and signup form is proving difficult, probably just easier to put it all in one

    USing a stored procedure to add new writers and check whether the writer already exists first, proving to be a pain
    
    email a doesnt exist so it should be added 

     IF EXISTS(SELECT * from Wr where Email = a) is TRUE ADD user
     IF EXISTS(empty set) is TRUE ADD user
     IF EXISTS(SELECT * from Wr where Email = a) is TRUE ADD user
     IF EXISTS(SELECT * from Wr where Email = a) is TRUE ADD user

     Doing it the dumb way is easier

     Not that easy
     Have a bug where it won't change the res.body

    Seemed to have solved the bug, now need to add session once signed up

    Decided that to hold user sesssion, will store user info in local storage and
    JWT containing user info in cookie. The idea is that when a user leaves the
    browser the local storage will be gone but the cookie will remain.
    TODO:    On entering the website the server checks whether the cookie exists
            if it does then decode, if it looks correct then authenticate and restore
            the info into local storage (what if out of date??)

            The user info is now stored as a stringified JSON object in local storage
            Will sort the changes to authentication once I've finished signup

            Look up url parameters

    Today I've added the start of a profile page including options to change bio
    
    JSON bug is that id doesn't have quotes around it
    Actually, it may be something to do with the response from the server
    Thinks its because of the asynchronous nature of express
    Ended up being a mix up between getLocal storage and JSON.parse ...

    Starting on article creation now

  Decided to try deployment to try and work out how all that works
  https://facebook.github.io/create-react-app/docs/deployment <= useful resource - serving apps with client side routing

  Fuck it, heroku is much easier, will just have to transfer the domain name
  
  Heroku wasnt much easier
  Going back to article creation

  Image uploading to cloudinary with relative url is now working


