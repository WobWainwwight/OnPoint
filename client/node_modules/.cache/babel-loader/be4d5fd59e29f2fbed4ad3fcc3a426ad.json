{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\Robert\\\\Documents\\\\GitHub\\\\OnPoint\\\\client\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Robert\\\\Documents\\\\GitHub\\\\OnPoint\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\Robert\\\\Documents\\\\GitHub\\\\OnPoint\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Robert\\\\Documents\\\\GitHub\\\\OnPoint\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Robert\\\\Documents\\\\GitHub\\\\OnPoint\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Robert\\\\Documents\\\\GitHub\\\\OnPoint\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Robert\\\\Documents\\\\GitHub\\\\OnPoint\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Robert\\\\Documents\\\\GitHub\\\\OnPoint\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\Robert\\\\Documents\\\\GitHub\\\\OnPoint\\\\client\\\\src\\\\components\\\\ProfileBio.js\";\nimport React from 'react';\n\nvar ProfileBio =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ProfileBio, _React$Component);\n\n  function ProfileBio(props) {\n    var _this;\n\n    _classCallCheck(this, ProfileBio);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProfileBio).call(this, props)); // storing bio as null is problematic with textarea below\n    // therefore setting bio in state to empty string instead\n\n    _this.submitToAPI =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(obj) {\n        var response, body;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch('/updateBio', {\n                  method: 'POST',\n                  headers: {\n                    'Accept': 'application/json, text/plain, */*',\n                    'Content-type': 'application/json'\n                  },\n                  body: JSON.stringify(obj)\n                });\n\n              case 2:\n                response = _context.sent;\n                _context.next = 5;\n                return response.json();\n\n              case 5:\n                body = _context.sent;\n\n                if (!(response.status !== 200)) {\n                  _context.next = 8;\n                  break;\n                }\n\n                throw Error(body.messsage);\n\n              case 8:\n                return _context.abrupt(\"return\", body);\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    if (props.bio === null) {\n      var initialBio = '';\n    } else {\n      initialBio = props.bio;\n    }\n\n    _this.state = {\n      editing: false,\n      bio: initialBio,\n      message: ''\n    };\n    _this.handleEditClick = _this.handleEditClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleBioChange = _this.handleBioChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.submitToAPI = _this.submitToAPI.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ProfileBio, [{\n    key: \"handleEditClick\",\n    value: function handleEditClick() {\n      this.setState({\n        editing: true\n      });\n    }\n  }, {\n    key: \"handleBioChange\",\n    value: function handleBioChange(value) {\n      this.setState({\n        bio: value\n      });\n    }\n  }, {\n    key: \"handleBioSubmit\",\n    value: function handleBioSubmit() {\n      var _this2 = this;\n\n      // connect to API and if successful, update local state\n      var bioObj = {\n        bio: this.state.bio,\n        id: this.props.id\n      };\n      this.submitToAPI(bioObj).then(function (res) {\n        _this2.setState({\n          message: res.message,\n          editing: false\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      if (this.state.bio === '' && this.state.editing === false) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, \"Your Bio\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, \"-- Your bio is undefined, select 'Edit' below to add a bio --\"), React.createElement(\"button\", {\n          onClick: function onClick() {\n            return _this3.handleEditClick();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, \"Edit\"));\n      } else {\n        if (this.state.editing === false) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 75\n            },\n            __self: this\n          }, React.createElement(\"label\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 76\n            },\n            __self: this\n          }, \"Your Bio\"), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 77\n            },\n            __self: this\n          }, this.state.bio), React.createElement(\"button\", {\n            onClick: function onClick() {\n              return _this3.handleEditClick();\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 78\n            },\n            __self: this\n          }, \"Edit\"), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 79\n            },\n            __self: this\n          }, this.state.message));\n        } else {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 85\n            },\n            __self: this\n          }, React.createElement(\"label\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 86\n            },\n            __self: this\n          }, \"Your Bio\"), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 87\n            },\n            __self: this\n          }), React.createElement(\"textarea\", {\n            cols: \"50\",\n            rows: \"5\",\n            maxLength: \"1000\",\n            value: this.state.bio,\n            onChange: function onChange(e) {\n              return _this3.handleBioChange(e.target.value);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 88\n            },\n            __self: this\n          }), React.createElement(\"button\", {\n            onClick: function onClick() {\n              return _this3.handleBioSubmit();\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 95\n            },\n            __self: this\n          }, \"Submit\"));\n        }\n      }\n    }\n  }]);\n\n  return ProfileBio;\n}(React.Component);\n\nexport { ProfileBio as default };","map":{"version":3,"sources":["C:\\Users\\Robert\\Documents\\GitHub\\OnPoint\\client\\src\\components\\ProfileBio.js"],"names":["React","ProfileBio","props","submitToAPI","obj","fetch","method","headers","body","JSON","stringify","response","json","status","Error","messsage","bio","initialBio","state","editing","message","handleEditClick","bind","handleBioChange","setState","value","bioObj","id","then","res","e","target","handleBioSubmit","Component"],"mappings":"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","sourcesContent":["import React from 'react'\r\n\r\nexport default class ProfileBio extends React.Component {\r\n  constructor(props){\r\n    super(props)\r\n    // storing bio as null is problematic with textarea below\r\n    // therefore setting bio in state to empty string instead\r\n    if(props.bio === null){\r\n      var initialBio = ''\r\n    }\r\n    else{initialBio = props.bio}\r\n    this.state = {\r\n      editing: false,\r\n      bio: initialBio,\r\n      message: '',\r\n    }\r\n    this.handleEditClick = this.handleEditClick.bind(this)\r\n    this.handleBioChange = this.handleBioChange.bind(this)\r\n    this.submitToAPI = this.submitToAPI.bind(this)\r\n  }\r\n  handleEditClick(){\r\n    this.setState({\r\n      editing: true,\r\n    })\r\n  }\r\n  handleBioChange(value){\r\n    this.setState({\r\n      bio: value\r\n    })\r\n  }\r\n  handleBioSubmit(){\r\n    // connect to API and if successful, update local state\r\n    const bioObj = {\r\n      bio: this.state.bio,\r\n      id: this.props.id,\r\n    }\r\n    this.submitToAPI(bioObj)\r\n    .then(res => {\r\n      this.setState({\r\n        message: res.message,\r\n        editing: false,\r\n      })\r\n    })\r\n    \r\n  }\r\n  submitToAPI = async (obj) => {\r\n    const response = await fetch('/updateBio', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept':'application/json, text/plain, */*',\r\n        'Content-type':'application/json'\r\n      },\r\n      body: JSON.stringify(obj)\r\n    })\r\n    const body = await response.json()\r\n    // 200 is the http code signalling the request is successful\r\n    if (response.status !== 200){\r\n      throw Error(body.messsage)\r\n    } \r\n    return body\r\n  } \r\n  render(){\r\n    if(this.state.bio === '' && this.state.editing === false){\r\n      return (\r\n        <div>\r\n          <label>Your Bio</label>\r\n          <p>-- Your bio is undefined, select 'Edit' below to add a bio --</p>\r\n          <button onClick={() => this.handleEditClick()}>Edit</button>\r\n        </div>\r\n      )\r\n    }\r\n    else {\r\n      if(this.state.editing === false){\r\n        return(\r\n          <div>\r\n            <label>Your Bio</label>\r\n            <p>{this.state.bio}</p>\r\n            <button onClick={() => this.handleEditClick()}>Edit</button>\r\n            <p>{this.state.message}</p>\r\n          </div>\r\n        )\r\n      }\r\n      else{\r\n        return(\r\n          <div>\r\n            <label>Your Bio</label>\r\n            <br/>\r\n            <textarea\r\n              cols=\"50\"\r\n              rows=\"5\"\r\n              maxLength=\"1000\"\r\n              value={this.state.bio} \r\n              onChange={(e) => this.handleBioChange(e.target.value)}\r\n            />\r\n            <button onClick={() => this.handleBioSubmit()}>Submit</button>\r\n          </div>\r\n        )\r\n      }\r\n    }\r\n  }\r\n  \r\n}"]},"metadata":{},"sourceType":"module"}