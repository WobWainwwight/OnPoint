(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a(32)},25:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(17),l=a.n(i),s=a(5),c=a(6),o=a(8),u=a(7),h=a(9),d=a(1),m=a(35),p=a(34),g=a(33),f=(a(25),a(18)),b=a(36),E=function(e){var t=e.component,a=e.isAuthenticated,n=Object(f.a)(e,["component","isAuthenticated"]);return r.a.createElement(p.a,Object.assign({},n,{render:function(e){return!0===a?r.a.createElement(t,Object.assign({},e,n)):r.a.createElement(b.a,{to:"/login"})}}))},v=a(3),O=a.n(v),j=a(11),y=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).imgToAPI=function(){var e=Object(j.a)(O.a.mark(function e(t){var a,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/upload-img",{method:"POST",body:t});case 2:return a=e.sent,e.next=5,a.json();case 5:if(n=e.sent,200===a.status){e.next=8;break}throw Error(n.messsage);case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.publish=Object(j.a)(O.a.mark(function e(){var t,n,r,i;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({message:"Sending article to be published"}),t={writer_id:a.state.writerID,title:a.state.selectedTitle,header_url:a.state.headerImgUrl,content:a.state.inputContent},e.next=4,fetch("/add-article",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-type":"application/json"},body:JSON.stringify(t)});case 4:return n=e.sent,e.next=7,n.json();case 7:if(r=e.sent,200===n.status){e.next=10;break}throw Error(r.messsage);case 10:!0===r.accepted?(a.setState({message:"Thank you! Your article has been published successfully!"}),(i=JSON.parse(localStorage.getItem("OPuserInfo"))).articleCount=a.state.articleID,i=JSON.stringify(i),localStorage.setItem("OPuserInfo",i),setTimeout(function(){a.setState({published:!0})},1500)):a.setState({message:"Couldn't publish, try again later",submitted:!1});case 11:case"end":return e.stop()}},e,this)}));var n=JSON.parse(localStorage.getItem("OPuserInfo")),r=n.articleCount+1;console.log("UserInfo AC",n);var i=n.id;return a.state={selectedTitle:"",inputContent:[],message:"",headerImgUrl:"",articleID:r,writerID:i,freeToAdd:!0,submitted:!1,published:!1},a.handleTitleChange=a.handleTitleChange.bind(Object(d.a)(Object(d.a)(a))),a.handleAddParagraph=a.handleAddParagraph.bind(Object(d.a)(Object(d.a)(a))),a.handleChangeParagraph=a.handleChangeParagraph.bind(Object(d.a)(Object(d.a)(a))),a.handleAddImg=a.handleAddImg.bind(Object(d.a)(Object(d.a)(a))),a.handleHeaderImg=a.handleHeaderImg.bind(Object(d.a)(Object(d.a)(a))),a.imgToAPI=a.imgToAPI.bind(Object(d.a)(Object(d.a)(a))),a.handleSubmitArticle=a.handleSubmitArticle.bind(Object(d.a)(Object(d.a)(a))),a.publish=a.publish.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleTitleChange",value:function(e){this.setState({selectedTitle:e})}},{key:"handleAddParagraph",value:function(){var e=this,t=this.state.inputContent.length;if(0===t||""!==this.state.inputContent[t-1].content){var a=this.state.inputContent.length;console.log("order",a);var n={order:a,type:"text",content:""},r=this.state.inputContent;r.push(n),this.setState({inputContent:r},function(){return console.log(e.state.inputContent)})}else{var i="Please add some text to paragraph "+t;this.setState({message:i})}}},{key:"handleChangeParagraph",value:function(e,t){var a=this.state.inputContent;a[e].content=t.target.value,this.setState({inputContent:a}),console.log("here "+e+t.target.value)}},{key:"handleAddImg",value:function(e){var t=this,a=this.state.inputContent;if(a.length>0&&"text"===a[a.length-1].type&&""!==a[a.length-1].content){this.setState({freeToAdd:!1});var n=new FormData;n.append("img",e.target.files[0]),n.append("type",a.length),n.append("writerId",this.state.writerID),n.append("articleId",this.state.articleID),this.imgToAPI(n).then(function(e){if(!0===e.accepted){var a=t.state.inputContent,n={order:a.length,type:"img",content:e.cloudinary.secure_url};a.push(n),t.setState({inputContent:a,freeToAdd:!0})}else t.setState({message:"Couldn't upload image, try again later"})})}else this.setState({message:"A paragraph must precede an image"})}},{key:"handleHeaderImg",value:function(e){var t=this,a=new FormData;a.append("img",e.target.files[0]),a.append("type","header"),a.append("writerId",this.state.writerID),a.append("articleId",this.state.articleID),this.imgToAPI(a).then(function(e){console.log(e),!0===e.accepted?(console.log(e.cloudinary.secure_url),t.setState({headerImgUrl:e.cloudinary.secure_url,freeToAdd:!0})):t.setState({message:"Couldn't upload image, try again later"})})}},{key:"handleSubmitArticle",value:function(){this.setState({message:""}),console.log("state",this.state);for(var e=this.state.inputContent,t=0;t<e.length;t++)if("text"===e[t].type){e=!0;break}""!==this.state.selectedTitle&&""!==this.state.headerImgUrl&&!0===e?(console.log("Correct state",this.state),this.setState({submitted:!0})):this.setState({message:"You must at least enter a title, a header image and at least one paragraph of text"})}},{key:"render",value:function(){var e=this;return!0===this.state.published?r.a.createElement(b.a,{to:"/"}):!1===this.state.submitted?r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Enter title",maxLength:"100",onChange:function(t){return e.handleTitleChange(t.target.value)}}),r.a.createElement(I,{handleHeaderImg:this.handleHeaderImg,imgId:this.state.headerImgUrl,writerID:this.state.writerID,articleID:this.state.articleID}),r.a.createElement(S,{contentArr:this.state.inputContent,handleChangeParagraph:this.handleChangeParagraph}),r.a.createElement(A,{handleAddParagraph:this.handleAddParagraph,inputContent:this.state.inputContent,handleAddImg:this.handleAddImg,freeToAdd:this.state.freeToAdd}),r.a.createElement("button",{onClick:function(){return e.handleSubmitArticle()}},"Submit Article"),r.a.createElement("p",null,this.state.message)):r.a.createElement("div",null,r.a.createElement(k,{selectedTitle:this.state.selectedTitle,headerImgUrl:this.state.headerImgUrl,inputContent:this.state.inputContent}),r.a.createElement("button",{onClick:function(){return e.setState({submitted:!1})}},"Edit"),r.a.createElement("button",{onClick:function(){return e.publish()}},"Publish"),r.a.createElement("p",null,this.state.message))}}]),t}(r.a.Component),I=function(e){var t;return""===e.status?(t="Add header image",r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"headImage"},t),r.a.createElement("input",{type:"file",id:"headImage",accept:"image/png, image/jpeg",onChange:function(t){return e.handleHeaderImg(t)}}))):(t="Change header",r.a.createElement("div",null,r.a.createElement("img",{src:e.imgId,alt:e.imgId}),r.a.createElement("label",{htmlFor:"headImage"},t),r.a.createElement("input",{type:"file",id:"headImage",accept:"image/png, image/jpeg",onChange:function(t){return e.handleHeaderImg(t)}})))},S=function(e){var t=e.contentArr.map(function(t){return"text"===t.type?r.a.createElement("textarea",{key:t.order,onChange:function(a){return e.handleChangeParagraph(t.order,a)},value:t.content}):r.a.createElement("img",{src:t.content,alt:""})});return r.a.createElement("div",null,r.a.createElement("ul",null,t.map(function(e){return r.a.createElement("li",{key:e.key},e)})))},C=function(e){return e.inputContent.length>0&&""!==e.inputContent[e.inputContent.length-1].content?r.a.createElement("input",{type:"file",id:"image",placeholder:"Add image",accept:"image/png, image/jpeg",onChange:function(t){return e.handleAddImg(t)}}):r.a.createElement("div",null)},A=function(e){return!0===e.freeToAdd?r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return e.handleAddParagraph()}},"Add Paragraph"),r.a.createElement(C,{inputContent:e.inputContent,handleAddImg:e.handleAddImg})):r.a.createElement("div",null)},k=function(e){var t=JSON.parse(localStorage.getItem("OPuserInfo")),a=t.firstname+" "+t.lastname,n=e.inputContent.map(function(e){return"text"===e.type?r.a.createElement("p",{key:e.order},e.content):r.a.createElement("img",{key:e.order,src:e.content,alt:""})});return r.a.createElement("div",null,r.a.createElement("img",{src:e.headerImgUrl,alt:""}),r.a.createElement("h1",null,e.selectedTitle),r.a.createElement("div",null,n),r.a.createElement("h4",null,"Words by ",a),r.a.createElement("p",null,t.bio))},T=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).submitToAPI=function(){var e=Object(j.a)(O.a.mark(function e(t){var a,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/login",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-type":"application/json"},body:JSON.stringify(t)});case 2:return a=e.sent,e.next=5,a.json();case 5:if(n=e.sent,200===a.status){e.next=8;break}throw Error(n.messsage);case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.state={enteredEmail:"",enteredPassword:"",submitted:!1,accepted:!1,message:"Enter your Email and password",isAuthenticated:a.props.isAuthenticated},a.handleEmail=a.handleEmail.bind(Object(d.a)(Object(d.a)(a))),a.handlePassword=a.handlePassword.bind(Object(d.a)(Object(d.a)(a))),a.validate=a.validate.bind(Object(d.a)(Object(d.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(Object(d.a)(a))),a.submitToAPI=a.submitToAPI.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleEmail",value:function(e){this.setState({enteredEmail:e})}},{key:"handlePassword",value:function(e){this.setState({enteredPassword:e})}},{key:"handleSubmit",value:function(){var e=this;if(!0!==this.validate())this.setState({message:"Try agin"});else{console.log("State",this.state);var t={email:this.state.enteredEmail,password:this.state.enteredPassword};console.log("Here",t),this.submitToAPI(t).then(function(t){if(console.log("res",t),e.setState({message:t.message,accepted:t.accepted}),!0===e.state.accepted){document.cookie="OPtoken; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",document.cookie="OPtoken="+t.OPtoken,console.log("res",t),console.log("USERINGo",t.OPuserInfo);var a=JSON.stringify(t.OPuserInfo);localStorage.setItem("OPuserInfo",a),setTimeout(function(){e.props.authenticate(!0),e.setState({isAuthenticated:e.props.isAuthenticated})},0)}}).catch(function(t){console.log(t),e.setState({message:"There was a problem, try again later"})})}}},{key:"validate",value:function(){return this.state.enteredEmail.length>0&&this.state.enteredPassword.length>0}},{key:"render",value:function(){var e=this;return this.state.isAuthenticated?r.a.createElement(b.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement("h2",null,"Login"),r.a.createElement("input",{type:"text",placeholder:"Email",value:this.state.enteredEmail,onChange:function(t){return e.handleEmail(t.target.value)}}),r.a.createElement("input",{type:"password",placeholder:"Password",onChange:function(t){return e.handlePassword(t.target.value)}}),r.a.createElement("button",{onClick:function(){return e.handleSubmit()}},"Submit"),r.a.createElement("h3",null,this.state.message),r.a.createElement(g.a,{to:"/signup"},"Sign Up!"))}}]),t}(r.a.Component),P=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).fetchFeed=function(){var e=Object(j.a)(O.a.mark(function e(t){var a,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/get-feed",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-type":"application/json"},body:JSON.stringify(t)});case 2:return a=e.sent,e.next=5,a.json();case 5:if(n=e.sent,200===a.status){e.next=8;break}throw Error(n.messsage);case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.state={filters:"",feed:[],selectedArticle:[]},a.fetchFeed=a.fetchFeed.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.fetchFeed(this.state).then(function(t){if(!1!==t.articleData){var a=Array.from(t.result);e.setState({feed:a},function(){return console.log(e.state)})}else e.setState({feed:!1})})}},{key:"render",value:function(){var e=this;if(!1!==this.state.feed){var t=this.state.feed.map(function(t){return r.a.createElement(w,Object.assign({key:t.ArticleID},t,{click:e.handleArticleClick}))});return console.log("feedrender",t),r.a.createElement("div",{className:"feed"},t)}return r.a.createElement("div",null,"Sorry, couldn't retrieve articles")}}]),t}(n.Component),w=function(e){console.log("AHEad props",e);var t=e.HeadImage;return r.a.createElement("div",{className:"articleHeads"},r.a.createElement(g.a,{to:"/article/".concat(e.ArticleID)},r.a.createElement("img",{class:"resize",src:t,alt:""}),r.a.createElement("h3",null,e.Title)))},x=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).signupToApi=function(){var e=Object(j.a)(O.a.mark(function e(t){var a,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/signup",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-type":"application/json"},body:JSON.stringify(t)});case 2:return a=e.sent,e.next=5,a.json();case 5:if(n=e.sent,200===a.status){e.next=8;break}throw Error(n.messsage);case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.state={message:"",formData:{firstname:"",lastname:"",email:"",password:""},accepted:!1},a.handleSubmit=a.handleSubmit.bind(Object(d.a)(Object(d.a)(a))),a.handleTyping=a.handleTyping.bind(Object(d.a)(Object(d.a)(a))),a.checkEmpty=a.checkEmpty.bind(Object(d.a)(Object(d.a)(a))),a.signupToApi=a.signupToApi.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"checkEmpty",value:function(){for(var e=Object.values(this.state.formData),t=0;t<e.length;t++){if(""===e[t])return!0}return!1}},{key:"handleSubmit",value:function(){var e=this;!1===this.checkEmpty()?this.signupToApi(this.state.formData).then(function(t){console.log(t),e.setState({message:t.message}),setTimeout(function(){e.setState({accepted:t.accepted})},2e3)}):this.setState({message:"You must provide all details"})}},{key:"handleTyping",value:function(e,t){var a=this.state.formData;a[t]=e,this.setState({formData:a})}},{key:"render",value:function(){var e=this;return!0===this.state.accepted?r.a.createElement(b.a,{to:"/login"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Sign Up"),"First Name: ",r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:this.state.formData.firstname,onChange:function(t){return e.handleTyping(t.target.value,"firstname")}}),r.a.createElement("br",null),"Second Name: ",r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:this.state.formData.lastname,onChange:function(t){return e.handleTyping(t.target.value,"lastname")}}),r.a.createElement("br",null),"Email: ",r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:this.state.formData.email,onChange:function(t){return e.handleTyping(t.target.value,"email")}}),r.a.createElement("br",null),"Password: ",r.a.createElement("br",null),r.a.createElement("input",{type:"password",onChange:function(t){return e.handleTyping(t.target.value,"password")}}),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return e.handleSubmit()}},"Submit"),r.a.createElement("h3",null,this.state.message))}}]),t}(r.a.Component),D=function(e){function t(e){var a;if(Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).submitToAPI=function(){var e=Object(j.a)(O.a.mark(function e(t){var a,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("SubmitToAPI"),e.next=3,fetch("/updateBio",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,console.log("Post stringify"),e.next=7,a.json();case 7:if(n=e.sent,console.log("POST response.json"),200===a.status){e.next=11;break}throw Error(n.messsage);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),null===e.bio)var n="";else n=e.bio;return a.state={editing:!1,bio:n,message:""},a.handleEditClick=a.handleEditClick.bind(Object(d.a)(Object(d.a)(a))),a.handleBioChange=a.handleBioChange.bind(Object(d.a)(Object(d.a)(a))),a.submitToAPI=a.submitToAPI.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleEditClick",value:function(){this.setState({editing:!0})}},{key:"handleBioChange",value:function(e){this.setState({bio:e})}},{key:"handleBioSubmit",value:function(){var e=this,t=this.props.id,a={bio:this.state.bio,id:t};console.log(a),this.submitToAPI(a).then(function(t){if(console.log(t),!0===t.accepted){var a=JSON.parse(localStorage.getItem("OPuserInfo"));a.bio=e.state.bio,localStorage.removeItem("OPuserInfo"),localStorage.setItem("OPuserInfo",JSON.stringify(a))}e.setState({message:t.message,editing:!1})})}},{key:"render",value:function(){var e=this;return""===this.state.bio&&!1===this.state.editing?r.a.createElement("div",null,r.a.createElement("label",null,"Your Bio"),r.a.createElement("p",null,"-- Your bio is undefined, select 'Edit' below to add a bio --"),r.a.createElement("button",{onClick:function(){return e.handleEditClick()}},"Edit")):!1===this.state.editing?r.a.createElement("div",null,r.a.createElement("label",null,"Your Bio"),r.a.createElement("p",null,this.state.bio),r.a.createElement("button",{onClick:function(){return e.handleEditClick()}},"Edit"),r.a.createElement("p",null,this.state.message)):r.a.createElement("div",null,r.a.createElement("label",null,"Your Bio"),r.a.createElement("br",null),r.a.createElement("textarea",{cols:"50",rows:"5",maxLength:"1000",value:this.state.bio,onChange:function(t){return e.handleBioChange(t.target.value)}}),r.a.createElement("button",{onClick:function(){return e.handleBioSubmit()}},"Submit"))}}]),t}(r.a.Component),N=function(e){function t(e){var a;Object(s.a)(this,t),a=Object(o.a)(this,Object(u.a)(t).call(this,e));var n=JSON.parse(localStorage.getItem("OPuserInfo"));return a.state={userInfo:n},a.handleLogout=a.handleLogout.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleLogout",value:function(){localStorage.clear(),document.cookie="OPtoken =; expires=Thu, 01 Jan 1970 00:00:01 GMT;",this.props.authenticate(!1),console.log("props",this.props)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",null,this.state.userInfo.firstname," ",this.state.userInfo.lastname),r.a.createElement(D,{bio:this.state.userInfo.bio,id:this.state.userInfo.id}),r.a.createElement("button",null,r.a.createElement(g.a,{to:"/create-article/".concat(this.state.userInfo.id)},"Create Article")),r.a.createElement("button",{onClick:function(){return e.handleLogout()}},"Logout ",r.a.createElement("b",null,this.state.userInfo.email)))}}]),t}(r.a.Component),J=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).fetchArticle=function(){var e=Object(j.a)(O.a.mark(function e(t){var a,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/get-article",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-type":"application/json"},body:JSON.stringify(t)});case 2:return a=e.sent,e.next=5,a.json();case 5:if(n=e.sent,200===a.status){e.next=8;break}throw Error(n.messsage);case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.state={initialRender:!0,articleData:[],writerData:[]},a.fetchArticle=a.fetchArticle.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.match.params),this.fetchArticle(this.props.match.params).then(function(t){e.setState({articleData:t.articleData,writerData:t.writerData,initialRender:!1})})}},{key:"render",value:function(){return!0===this.state.initialRender?r.a.createElement("div",null):!1!==this.state.articleData?r.a.createElement("div",null,r.a.createElement(U,{data:this.state.articleData}),r.a.createElement(B,{data:this.state.writerData})):r.a.createElement("h2",null,"Sorry couldn't retrieve the article")}}]),t}(n.Component),U=function(e){console.log("C",e.data.Content),console.log("type",typeof e.data.Content);var t=H(e.data.Content).map(function(e){return console.log(e.order),"text"===e.type?r.a.createElement("p",{key:e.order},e.content):r.a.createElement("img",{key:e.order,src:e.content,alt:""})});return r.a.createElement("div",null,r.a.createElement("img",{src:e.data.HeadImage,alt:"Could not retrieve"}),r.a.createElement("h1",null,e.data.Title),r.a.createElement("div",null,t))},B=function(e){var t=e.data.FirstName+" "+e.data.LastName;return r.a.createElement("div",null,r.a.createElement("h4",null,"Words by ",t),r.a.createElement("p",null,e.data.Bio))},H=function(e){var t=[];return String(e).match(/\{.*?\}/g).forEach(function(e){var a=JSON.parse(e);t.push(a)}),console.log("type",typeof t),t},F=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={isAuthenticated:!1,userInfo:null},a.authenticate=a.authenticate.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"authenticate",value:function(e){if(!0===e){var t=JSON.parse(localStorage.getItem("OPuserInfo"));console.log("Userinfo",t),this.setState({isAuthenticated:e,userInfo:t}),console.log("STATE u info",this.state.userInfo)}else document.cookie="OPtoken; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",localStorage.removeItem("OPuserInfo"),this.setState({isAuthenticated:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement(m.a,null,r.a.createElement("div",{className:"wrapper"},r.a.createElement(L,{isAuthenticated:this.state.isAuthenticated,userInfo:this.state.userInfo}),r.a.createElement(p.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(P,Object.assign({},e,{className:"feed"}))}}),r.a.createElement(E,{path:"/create-article/:userId",component:y,isAuthenticated:this.state.isAuthenticated}),r.a.createElement(p.a,{path:"/signup",component:x}),r.a.createElement(p.a,{path:"/login",render:function(t){return r.a.createElement(T,Object.assign({},t,{authenticate:e.authenticate,isAuthenticated:e.state.isAuthenticated}))}}),r.a.createElement(E,{path:"/profile/:userId",component:N,isAuthenticated:this.state.isAuthenticated,authenticate:this.authenticate}),r.a.createElement(p.a,{path:"/article/:articleId",component:J})))}}]),t}(n.Component);function L(e){return!0===e.isAuthenticated?r.a.createElement("header",{className:"header"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(g.a,{to:"/",style:{textDecoration:"none",color:"black"}},r.a.createElement("h1",null,"Shouter"))),r.a.createElement("li",{className:"loginButton"},r.a.createElement(g.a,{to:"/profile/".concat(e.userInfo.id)},e.userInfo.firstname)))):r.a.createElement("header",{className:"header"},r.a.createElement("div",null),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(g.a,{to:"/",style:{textDecoration:"none",color:"black"}},r.a.createElement("h1",null,"Shouter"))),r.a.createElement("li",{className:"loginButton"},r.a.createElement(g.a,{to:"/login"},"Login"))))}l.a.render(r.a.createElement(F,null),document.getElementById("app"))}},[[19,2,1]]]);
//# sourceMappingURL=main.84d0a26c.chunk.js.map